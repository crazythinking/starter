pg:
  rheakv:
    server:
      enabled: true
      store-options:
        #在没有真实PD的情况下, 必须指定
        initial-server-list: 127.0.0.1:30001,127.0.0.1:30002,127.0.0.1:30003
        placement-driver-options:
          fake: true
        store-engine-options:
          # 本机地址，必须配置
          ip: 127.0.0.1
          port: 30001
          # raft log存储目录
          raft-data-path: ${pg.debezium.data-path}/rheakv-raft/
          #在没有真实PD的情况下, 必须指定；一般数据量较大时，需要设置分片规则
          region-engine-options-list:
            - region-id: 1
              #key的前缀必须与pg.debezium.named-properties对应的database.server.name保持一致；
              #每个Debezium Engine对应一个region, 如此每个Debezium Engine所对应的JRaft group都是隔离的；
              start-key: ${pg.debezium.named-properties.xxljob-mysql.database.server.name}
              initial-server-list: 127.0.0.1:30001,127.0.0.1:30002,127.0.0.1:30003
#            - region-id: 2
#              start-key: "xxljob_oralce_cdc"
#              initial-server-list: 127.0.0.1:30001,127.0.0.1:30002,127.0.0.1:30003
          storage-type: rocksdb
          rocksdb-options:
            # kv数据存储目录
            db-path: ${pg.debezium.data-path}/rheakv-rocksdb/
            # 是否同步刷盘, 默认为 true, 异步刷盘性能更好, 但是在机器掉电时有丢数据风险
            sync: false
        use-parallel-compress: true
        # 是否只从 leader 节点读取数据, 默认为true, 当然从follower节点读也能保证线性一致读, 但是如果一个 follower 节点在同步数据时落后较多的情况下
        # 将导致读请求超时, 从而导致 rheaKV 客户端 failover 逻辑启动重新从 leader 节点上尝试读取, 最终结果就是读请求延时较长
        only-leader-read: true
        # 失败重试次数, 默认为2
        failover-retries: 2
  debezium:
    #开启 JRaft storage
    enabled-j-raft: true
